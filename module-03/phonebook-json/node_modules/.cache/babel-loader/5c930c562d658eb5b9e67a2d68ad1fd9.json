{"ast":null,"code":"import axios from 'axios'; // BASE URL FOR REQUESTS\n\nconst base_url = 'http://localhost:3001/persons'; // FETCH EXISTING PEOPLE FROM DB\n\nconst fetch_people = () => {\n  return axios.get(base_url).then(response => {\n    return response.data;\n  });\n}; // CREATE NEW PERSON IN DB\n\n\nconst create_person = payload => {\n  return axios.post(base_url, payload).then(response => {\n    switch (response.status) {\n      // ALL OK\n      case 201:\n        {\n          return {\n            status: response.status,\n            id: response.data.id\n          };\n        }\n      // FALLBACK\n\n      default:\n        {\n          return {\n            status: response.status\n          };\n        }\n    }\n  });\n}; // REMOVE PERSON FROM DB\n\n\nconst remove_person = person_id => {\n  // CONCAT THE BASE URL\n  const url = base_url + '/' + person_id;\n  return axios.delete(url).then(response => {\n    return response.status;\n  });\n}; // REMOVE PERSON FROM DB\n\n\nconst update_person = (person_id, payload) => {\n  // CONCAT THE BASE URL\n  const url = base_url + '/' + person_id;\n  return axios.put(url, payload).then(response => {\n    return response.status;\n  });\n};\n\nexport { fetch_people, create_person, remove_person, update_person };","map":{"version":3,"names":["axios","base_url","fetch_people","get","then","response","data","create_person","payload","post","status","id","remove_person","person_id","url","delete","update_person","put"],"sources":["/home/wickstjo/aalto/full-stack/module-02/phonebook/src/funcs/db.js"],"sourcesContent":["import axios from 'axios'\n\n// BASE URL FOR REQUESTS\nconst base_url = 'http://localhost:3001/persons';\n\n// FETCH EXISTING PEOPLE FROM DB\nconst fetch_people = () => {\n    return axios.get(base_url).then(response => {\n        return response.data\n    })\n}\n\n// CREATE NEW PERSON IN DB\nconst create_person = (payload) => {\n    return axios.post(base_url, payload).then(response => {\n        switch (response.status)Â {\n\n            // ALL OK\n            case 201: {\n                return {\n                    status: response.status,\n                    id: response.data.id\n                }\n            }\n\n            // FALLBACK\n            default: {\n                return {\n                    status: response.status,\n                }\n            }\n        }\n    })\n}\n\n// REMOVE PERSON FROM DB\nconst remove_person = (person_id) => {\n\n    // CONCAT THE BASE URL\n    const url = base_url + '/' + person_id\n\n    return axios.delete(url).then(response => {\n        return response.status\n    })\n}\n\n// REMOVE PERSON FROM DB\nconst update_person = (person_id, payload) => {\n\n    // CONCAT THE BASE URL\n    const url = base_url + '/' + person_id\n\n    return axios.put(url, payload).then(response => {\n        return response.status\n    })\n}\n\nexport {\n    fetch_people,\n    create_person,\n    remove_person,\n    update_person\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,MAAMC,QAAQ,GAAG,+BAAjB,C,CAEA;;AACA,MAAMC,YAAY,GAAG,MAAM;EACvB,OAAOF,KAAK,CAACG,GAAN,CAAUF,QAAV,EAAoBG,IAApB,CAAyBC,QAAQ,IAAI;IACxC,OAAOA,QAAQ,CAACC,IAAhB;EACH,CAFM,CAAP;AAGH,CAJD,C,CAMA;;;AACA,MAAMC,aAAa,GAAIC,OAAD,IAAa;EAC/B,OAAOR,KAAK,CAACS,IAAN,CAAWR,QAAX,EAAqBO,OAArB,EAA8BJ,IAA9B,CAAmCC,QAAQ,IAAI;IAClD,QAAQA,QAAQ,CAACK,MAAjB;MAEI;MACA,KAAK,GAAL;QAAU;UACN,OAAO;YACHA,MAAM,EAAEL,QAAQ,CAACK,MADd;YAEHC,EAAE,EAAEN,QAAQ,CAACC,IAAT,CAAcK;UAFf,CAAP;QAIH;MAED;;MACA;QAAS;UACL,OAAO;YACHD,MAAM,EAAEL,QAAQ,CAACK;UADd,CAAP;QAGH;IAfL;EAiBH,CAlBM,CAAP;AAmBH,CApBD,C,CAsBA;;;AACA,MAAME,aAAa,GAAIC,SAAD,IAAe;EAEjC;EACA,MAAMC,GAAG,GAAGb,QAAQ,GAAG,GAAX,GAAiBY,SAA7B;EAEA,OAAOb,KAAK,CAACe,MAAN,CAAaD,GAAb,EAAkBV,IAAlB,CAAuBC,QAAQ,IAAI;IACtC,OAAOA,QAAQ,CAACK,MAAhB;EACH,CAFM,CAAP;AAGH,CARD,C,CAUA;;;AACA,MAAMM,aAAa,GAAG,CAACH,SAAD,EAAYL,OAAZ,KAAwB;EAE1C;EACA,MAAMM,GAAG,GAAGb,QAAQ,GAAG,GAAX,GAAiBY,SAA7B;EAEA,OAAOb,KAAK,CAACiB,GAAN,CAAUH,GAAV,EAAeN,OAAf,EAAwBJ,IAAxB,CAA6BC,QAAQ,IAAI;IAC5C,OAAOA,QAAQ,CAACK,MAAhB;EACH,CAFM,CAAP;AAGH,CARD;;AAUA,SACIR,YADJ,EAEIK,aAFJ,EAGIK,aAHJ,EAIII,aAJJ"},"metadata":{},"sourceType":"module"}